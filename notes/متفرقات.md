
## Topic: Call by Value vs. Call by Reference

### 1. The Problem: Call by Value (ูุณุฎุฉ ุทุจู ุงูุฃุตู)

ูู ุงูู C/C++ุ ุงููุถุน ุงูุงูุชุฑุงุถู ููุง ุชุจุนุช ูุชุบูุฑ ููุงููุดูุ ุฅูู ุจุชุจุนุช **ูุณุฎุฉ (Copy)** ูููุ ูุด ูู ุดุฎุตูุงู.

- **ุงููู ุจูุญุตู ูู ุงูููููุฑู:** ุงูู Function ุงูุฌุฏูุฏุฉ ุจุชุนูู [[Stack Frame]] ุฎุงุต ุจููุงุ ูุจุชุงุฎุฏ ูุณุฎุฉ ูู ุงูููู ุชุญุทูุง ุนูุฏูุง.
    
- **ุงููุชูุฌุฉ:** ุฃู ุชุบููุฑ ุจูุญุตู ุฌูู ุงููุงููุดูุ ุจูุญุตู ูู "ุงููุณุฎุฉ"ุ ูุงูุฃุตู (ุงููู ูู main) ุฒู ูุง ูู ูุง ุจูุชุญุฑูุด.
    

**ุงููุซุงู ุงูุดููุฑ (The Failed Swap):**



```C++
void tryToSwap(int a, int b) {
    int temp = a;
    a = b;
    b = temp;
    // ููุง a ู b ุงุชุจุฏููุง ูุนูุงู.. ุจุณ ุฏู ูุณุฎ ูุญููุฉ (Local Copies) ุฌูู ุงููุงููุดู ุฏู ุจุณ
}

int main() {
    int x = 10, y = 20;
    tryToSwap(x, y);
    // x ู y ูุณู ุฒู ูุง ููุง (10 ู 20)
    // ุงููุงููุดู ุงุดุชุบูุช ุนูู ูุฑู ุชุตููุฑ ูุฑูุชูุ ููููุณุชุด ุงููุณุชูุฏ ุงูุฃุตูู
}
```

---

### 2. The Solution: Call by Reference (ูุนุงู ููุชุงุญ ุดูุชู) ๐

ุนุดุงู ุงููุงููุดู ุชูุฏุฑ ุชุบูุฑ ูู ุงููุชุบูุฑุงุช ุงูุฃุตููุฉ ุงููู ูู mainุ ูุงุฒู ููุบู ููุฑุฉ ุงููุณุฎ.

ุจุฏู ูุง ุฃุจุนุชูู "ุตูุฑุฉ" ูู ุงููููุณุ ุฃูุง ูุจุนุชูู "ุนููุงู ุงูุจูู" (Address).

- **ุงููุฑุณู (Main):** ุจูุจุนุช ุงูุนููุงู ุจุงุณุชุฎุฏุงู `&`.
    
- **ุงููุณุชูุจู (Function):** ุจูุณุชูุจู ุงูุนููุงู ูู ูุคุดุฑ `*`.
    
- **ุงูุชูููุฐ:** ุงููุงููุดู ุจุชุณุชุฎุฏู `*ptr` (Dereferencing) ุนุดุงู ุชุนุฏู ูู ุงูููุงู ุงูุฃุตูู.
    

**ููุฏ ุงูู Swap ุงููุงุฌุญ (The Engineering Way):**



```c
// 1. ุงููุณุชูุจู: ุจูุทูุจ ุนูุงููู (Pointers) ูุด ููู
void realSwap(int* ptrA, int* ptrB) {
    // ptrA ุดุงูู ุนููุงู x
    // ptrB ุดุงูู ุนููุงู y
    
    int temp = *ptrA; // ูุงุช ุงููููุฉ ุงููู ุฌูู ุนููุงู x ูุญุทูุง ูู temp
    *ptrA = *ptrB;    // ูุงุช ุงููููุฉ ุงููู ุฌูู y ูุญุทูุง ุฌูู ุนููุงู x
    *ptrB = temp;     // ุญุท ูููุฉ temp ุฌูู ุนููุงู y
}

int main() {
    int x = 10, y = 20;
    
    // 2. ุงููุฑุณู: ุจูุจุนุช ุงูุนูุงููู
    realSwap(&x, &y); 
    
    // x ุจูุช 20ุ ู y ุจูุช 10 -> ุงูุณุญุฑ ุญุตู!
}
```

### 3. Visualizing the Stack (ุชุญุช ุงููุจูุช)

ุนุดุงู ุชุชุฎูู ุงููุฑู ุงูุฑููุจ ูู ุงูููููุฑู:



```mermaid
graph TD
    subgraph "Main Stack Frame"
        X[x: 10]
        Y[y: 20]
    end

    subgraph "Function Stack Frame (Call by Value)"
        A[a: 10] --Change--> A2[a: 20]
        B[b: 20] --Change--> B2[b: 10]
        Note1[No Link to Main!]
    end

    subgraph "Function Stack Frame (Call by Reference)"
        PA[ptrA: 0x100] --Points to--> X
        PB[ptrB: 0x104] --Points to--> Y
        Note2[Access via Arrows!]
    end

    style Note1 fill:#f9f,stroke:#333
    style Note2 fill:#9f9,stroke:#333
```

> [!TIP] Mina's Rule
> 
> - ุนุงูุฒ ุงููุงููุดู **ุชูุฑุฃ ุจุณ**ุ ุงุจุนุช **Value** (ุนุดุงู ุงูุฃูุงู).
>     
> - ุนุงูุฒ ุงููุงููุดู **ุชุบูุฑ ูุชุนุฏู**ุ ุงุจุนุช **Address** (ุนุดุงู ุงูุชุญูู).
>     
> - ุงูุจูุงูุงุช ุญุฌููุง ูุจูุฑ (ุฒู ุตูุฑุฉ ุฃู ูุตูููุฉ)ุ ุงุจุนุช **Address** (ุนุดุงู ุชููุฑ ููุช ุงููุณุฎ ููุณุงุญุฉ ุงูููููุฑู).
>     

---

### 4. ุจููุต C++ (The Reference Variable `&`) ๐

ุจูุง ุฅููุง ุจููุชุจ C++ุ ุงููุบุฉ ุนููุช ุญุฑูุฉ "ุดูุงูุฉ" ุนุดุงู ุชุฑูุญู ูู ูุฌุน ุฏูุงุบ ุงููุฌูุฉ `*` ูุงูุนูุงูุฉ `&`. ุญุงุฌุฉ ุงุณููุง **Reference**.

ุงูู Reference ูู "ุฏูุน" ูููุชุบูุฑ (Alias). ูู ูุด ูุคุดุฑุ ูู ุงุณู ุชุงูู ูููุณ ุงูููุงู ูู ุงูููููุฑู.



```c
void cppSwap(int &a, int &b) { // ูุงุญุธ ุงูุนูุงูุฉ & ููุง ูู ุงูุชุนุฑูู
    // ุงูุชุนุงูู ุฌูู ูุฃููู int ุนุงุฏูุ ุจุณ ููุง ูุฑุจูุทูู ุจุงูุฃุตู
    int temp = a;
    a = b;
    b = temp;
}

int main() {
    int x = 10, y = 20;
    cppSwap(x, y); // ููุง & ููุง ูุญุฒูููุ ุงุจุนุช ุงูุงุณู ุนูุทูู
}
```

- **ูู ุงูู C (ุดุบููุง ุงูุฃุณุงุณู):** ูุงุฒู Pointers.
    
- **ูู ุงูู C++ (ุงูุดุบู ุงูุญุฏูุซ):** ุจููุถู ุงูู References ูุฃู ุดูู ุงูููุฏ ุฃูุถูุ ุจุณ "ุชุญุช ุงููุจูุช" ูู ุจุชุชุญูู ูู Pointers ุจุฑุถู!
    
---
ุญูู ุนููุง ูุง ููุฏุณุฉุ ุฏู ูุนูุงู ุฃูุชุฑ ุญุชุฉ "ุจุชุนุตุฑ ุงูุฏูุงุบ" ูู ุงูููุฑุณุ ูุนุดุงู ูุฏุฉ ูุงุฒู "ูุฑุณููุง" ุนุดุงู ุชุชุฎูููุง.

ุงููุดููุฉ ูููุง ูู ุฌููุฉ ูุงุญุฏุฉ: "ุงููุคุดุฑ ูู ููุงู ูุชุบูุฑ (Variable)".

ูููุง ุจุชุจุนุช ูุชุบูุฑ ููุงููุดูุ ุจูุชุจุนุช ูุณุฎุฉ ููู (Copy).

ุชุนุงูู ูุชุฎูููุง ุจุชูุซูููุฉ ุตุบูุฑุฉ:

### ุงููุดูุฏ ุงูุฃูู: ุงูุณููุงุฑูู ุงูุบูุท (ุงููุณุฎุฉ ุงููุฒููุฉ) โ

ุชุฎูู ุฅูู (ุงูุฏุงูุฉ `main`) ูุนุงู **ูุฑูุฉ ูุงุถูุฉ** (ุงููุคุดุฑ `ptr`) ูุนุงูุฒ ูููุฏุณ ุงูุฏูููุฑ (ุงูุฏุงูุฉ `Allocation`) ููุชุจูู ูููุง ุนููุงู ุดูุชู ุงูุฌุฏูุฏุฉ.

1. ุฃูุช ูุงุฏูุช ุงููููุฏุณ ูุงุฏูุชูู **"ุตูุฑุฉ ุถูุฆูุฉ"** ูู ุงููุฑูุฉ ุจุชุงุนุชู (`Call by Value`).
    
2. ุงููููุฏุณ ูุณู "ุงูุตูุฑุฉ"ุ ููุชุจ ูููุง ุนููุงู ุงูุดูุฉ ุงูุฌุฏูุฏุฉ (`0x900`).
    
3. ุงููููุฏุณ ุฎูุต ุดุบูู ููุดู ูุฑูู ุงูุตูุฑุฉ ูู ุงูุฒุจุงูุฉ (ุงููุงููุดู ุฎูุตุช).
    
4. ุฃูุช ุจุตูุช ูู **ูุฑูุชู ุงูุฃุตููุฉ**.. ูููุชูุง ูุณู ูุงุถูุฉ (`NULL`)!
    

**ุฏู ุงููู ุจูุญุตู ูู ุงูููุฏ ุฏู:**

C++

```c
void badAllocation(int *p) { 
    // p ููุง ูู "ุงูุตูุฑุฉ ุงูุถูุฆูุฉ" (ูุณุฎุฉ ุฌุฏูุฏุฉ ูู ุงูู Stack)
    p = new int(50); 
    // ุงูุตูุฑุฉ ุจูุช ุจุชุดุงูุฑ ุนูู ุงูููููุฑู ุงูุฌุฏูุฏุฉ.. ูุงูุฃุตู ููุง ุฏุฑูุงู
}

int main() {
    int *myPtr = NULL; // ุงููุฑูุฉ ุงูุฃุตููุฉ
    badAllocation(myPtr); // ุจุนุช ุตูุฑุฉ ูููุง
    // myPtr ูุณู ุจู NULL -> ูุงูุดูุฉ ุงูุฌุฏูุฏุฉ ุถุงุนุช (Memory Leak)
}
```

---

### ุงููุดูุฏ ุงูุซุงูู: ุงูุณููุงุฑูู ุงูุตุญ (ุฃูุง ููููู ูุฑูุชู ููู) โ

ููุง ุฅุญูุง ููุณุชุฎุฏู **Double Pointer** (`**pp`).

1. ุฃูุช (ุงูุฏุงูุฉ `main`) ูุนุงู **ุงููุฑูุฉ ุงููุงุถูุฉ** (`ptr`).
    
2. ุฃูุช ุงููุฑุฉ ุฏู ูุด ูุชุฏููู ุงููุฑูุฉ.. ุฃูุช ูุชุฏููู **"ุนููุงู ุฌูุจู"** ุงููู ููู ุงููุฑูุฉ (`&ptr`).
    
3. ุงููููุฏุณ (ุงูุฏุงูุฉ `goodAllocation`) ุจูุงุฎุฏ ุงูุนููุงู ุฏู ููุณููู `pp`.
    
4. ุงููููุฏุณ ุจููุฏ ุฅูุฏู ูู ุฌูุจู (`*pp`)ุ ููุทูุน ูุฑูุชู ุงูุฃุตููุฉุ ูููุชุจ ูููุง ุงูุนููุงู ุงูุฌุฏูุฏ.
    
5. ุงููููุฏุณ ูุดู.
    
6. ุฃูุช ุจุชุทูุน ุงููุฑูุฉ ูู ุฌูุจู.. ูููุช ุงูุนููุงู ููุชูุจ ูููุง!
    

**ุฏู ุงููู ุจูุญุตู ููุง:**

C++

```c
void goodAllocation(int **pp) {
    // pp: ุนููุงู ุฌูุจู (Pointer to Pointer)
    // *pp: ุงููุฑูุฉ ุงููู ุฌูู ุฌูุจู (The Original Pointer)
    
    *pp = new int(50); 
    // ุฃูุง ููุง ุจูุชุจ ุนูู ุงููุฑูุฉ ุงูุฃุตููุฉ ูุจุงุดุฑุฉ
}

int main() {
    int *myPtr = NULL;
    goodAllocation(&myPtr); // ุฎุฏ ุนููุงู ุฌูุจู (ุนููุงู ุงููุคุดุฑ)
    // myPtr ุฏูููุชู ุดุงูู ุนููุงู ุงูุดูุฉ ุงูุฌุฏูุฏุฉ
}
```

---

### ุงูุฑุณูุฉ ุงููู ูุชูู ุงููุบุฒ (The Memory Diagram) ๐ง

ุชุนุงูู ูุดูู ุงูุฃุณูู ูุงุดูุฉ ุฅุฒุงู ูู ุงูุญุงูุชูู:

#### 1. ุงูุทุฑููุฉ ุงููุงุดูุฉ (ูุทุน ุงูุงุชุตุงู)

Code snippet

```mermaid
graph TD
    subgraph "Main Stack"
        OriginalPTR[myPtr: NULL]
    end
    
    subgraph "Function Stack (Bad)"
        CopyPTR[p: 0x999] -->|Points to| NewMem[New Memory Block]
    end
    
    OriginalPTR -.-x|No Connection| CopyPTR
    style CopyPTR fill:#f9f,stroke:#333
    style NewMem fill:#f00,stroke:#333
```

_ูุงุญุธ ุฅู `OriginalPTR` ูุณู ุจู NULL ูููุนุฑูุด ุญุงุฌุฉ ุนู `New Memory`._

#### 2. ุงูุทุฑููุฉ ุงููุงุฌุญุฉ (ุงูููุจุฑู) ๐

Code snippet

```mermaid
graph TD
    subgraph "Main Stack"
        OriginalPTR[myPtr: 0x999] -->|Points to| NewMem[New Memory Block]
    end
    
    subgraph "Function Stack (Good)"
        PP[pp: Address of myPtr] -->|Points to| OriginalPTR
    end
    
    %% pp reaches OriginalPTR via *pp
    style PP fill:#bfb,stroke:#333
    style OriginalPTR fill:#bbf,stroke:#333
```

_ูุงุญุธ ุงูุณูู ุงููู ุทุงูุน ูู `pp` ุฑุงูุญ ูู `myPtr`. ุงููุงููุดู ุงุณุชุฎุฏูุช ุงูุณูู ุฏู ุนุดุงู ุชุบูุฑ ูููุฉ `myPtr` ูุชุฎููู ูุดุงูุฑ ุนูู ุงูููููุฑู ุงูุฌุฏูุฏุฉ._

### ุงูุฎูุงุตุฉ (ุนุดุงู ุชุซุจุช):

- ูู ุนุงูุฒ ุชุบูุฑ **ุงููููุฉ** (`x`): ุงุจุนุช ุนููุงููุง (`int *`).
    
- ูู ุนุงูุฒ ุชุบูุฑ **ุงูุนููุงู** (`ptr`): ุงุจุนุช ุนููุงู ุงูุนููุงู (`int **`).
    

---


ุงูููุถูุน ุงููู ุนููู ุงูุฏูุฑ ูู ุงูุชุทุจูู ุงูุนููู ููู Double Pointers ุงููู ุดุฑุญูุงูุง:

Array of Pointers (ูุตูููุฉ ุงููุคุดุฑุงุช).

ุฏู ุงูุชูููู ุงููู ุจูุฎููู ุชููุฑ ููููุฑู ูู ุงูู Embedded Systems ุจุดูู ูุฑุนุจุ ูุงุณูู ุงูุญุฑูู **"Ragged Arrays"**.

---

### 1. ุงููุดููุฉ: ุฅูุฏุงุฑ ุงููุณุงุญุฉ ูู ุงูู 2D Arrays ๐

ุชุฎูู ุฅูู ุนุงูุฒ ุชุฎุฒู ุฃุณูุงุก 3 ุทูุงุจ ูู ูุตูููุฉ:

1. "Ali" (3 ุญุฑูู)
    
2. "Mohamed" (7 ุญุฑูู)
    
3. "Abdallah" (8 ุญุฑูู)
    

ูู ุงุณุชุฎุฏูุช **2D Array ุชูููุฏูุฉ** `char names[3][10]`ุ ุฃูุช ูุถุทุฑ ุชุญุฌุฒ **ุฃูุตู ูุณุงุญุฉ ููููุฉ** ููู ุงูุฃุณูุงุก (ูุซูุงู 10 ุฃูุงูู ููู ุงุณู) ุนุดุงู ุชููู ุฃุทูู ูุงุญุฏ.

- ุตู "Ali" ูุญุฌูุฒ ูู 10 ุจุงูุชุ ุงุณุชุฎุฏููุง 4 ุจุณ (ูุน ุงูู null)ุ ูุฑูููุง 6 ูู ุงูุฒุจุงูุฉ.
    
- ุฏู ุงุณูู **Internal Fragmentation** (ุฅูุฏุงุฑ ุฏุงุฎูู).
    

---

### 2. ุงูุญู: Array of Pointers (ุนูู ูุฏ ูุญุงูู ูุฏ ุฑุฌููู) ๐ก

ุจุฏู ูุง ุฃุญุฌุฒ ุตูุงุฏูู ูุจูุฑุฉุ ุฃูุง ูุนูู ูุตูููุฉ ุตุบูุฑุฉ ุดุงููุฉ "ุนูุงููู" ุจุณ.

ูู ูุคุดุฑ ูุดุงูุฑ ุนูู ุงูุงุณู ูู ููุงู ุชุงููุ ูุงูุงุณู ูุงุฎุฏ ูุณุงุญุชู ุจุงูุธุจุทุ ูุง ุฒูุงุฏุฉ ููุง ููุต.

- `names[0]` ุจูุดุงูุฑ ุนูู "Ali" (ูุงุฎุฏ 4 ุจุงูุช ุจุณ).
    
- `names[1]` ุจูุดุงูุฑ ุนูู "Mohamed" (ูุงุฎุฏ 8 ุจุงูุช ุจุณ).
    

ุฏู ุจูุณููู **Ragged Array** (ูุตูููุฉ ุบูุฑ ููุชุธูุฉ)ุ ูุฃู ุงูุตููู ูุด ูุฏ ุจุนุถูุงุ ูุฏู ููุฉ ุงูุชูููุฑ.

---

### 3. ุงูููุฏ: ุงููุฑู ุจูู ุงูุทุฑููุชูู

ุงูุณุฎ ุงูููุฏ ุฏู ูุฌุฑุจูุ ูุฑูุฒ ูู ุงููุฑู ูู ุงูููููุฑู:



```C++
#include <iostream>
using namespace std;

int main() {
    printf("\n--- 1. Traditional 2D Array (Wasted Space) ---\n");
    // ุญุฌุฒูุง ุจููู ูุงูู ูุณุชุทูู 3x10 = 30 ุจุงูุช
    char flatMatrix[3][10] = {
        "Ali",
        "Mohamed",
        "Abdallah"
    };
    
    // ูุงุญุธ ุฅู ูู ุตู ุจูุจุฏุฃ ุจุนุฏ ุงููู ูุจูู ุจู 10 ุจุงูุช ุซุงุจุชุฉุ ุญุชู ูู ุงูุงุณู ูุตูุฑ
    printf("Addr of Ali:      %p\n", flatMatrix[0]);
    printf("Addr of Mohamed:  %p (Diff: 10 bytes)\n", flatMatrix[1]);


    printf("\n--- 2. Array of Pointers (Smart Way) ---\n");
    // ุฏู ูุตูููุฉ ุดุงููุฉ 3 ูุคุดุฑุงุช ุจุณ (ุญุฌููุง 3 * 8 = 24 ุจุงูุช ูู ูุธุงู 64-bit)
    // ุงูุฃุณูุงุก ููุณูุง ูุชุฎุฒูุฉ ูู ุงูู Read-Only Data Section ููู ูุงุญุฏ ูุงุฎุฏ ูุณุงุญุชู ุจุงูุธุจุท
    const char* ptrArray[3] = {
        "Ali",
        "Mohamed",
        "Abdallah"
    };

    printf("Addr of ptrArray[0] stores: %p (Points to Ali)\n", (void*)ptrArray[0]);
    printf("Addr of ptrArray[1] stores: %p (Points to Mohamed)\n", (void*)ptrArray[1]);
    
    // ููุง ุงููุฑู ูุด ุซุงุจุชุ ุญุณุจ ุทูู ุงููููุฉ!
    
    return 0;
}
```

---

### 4. ุฑุณูุฉ ุชูุถูุญูุฉ (Jagged Structure) ๐จ

ุงููุฑู ูู ุงูููููุฑู ุนุงูู ูุฏู:

**ุงูุทุฑููุฉ ุงููุฏููุฉ (ูุตูููุฉ):**

Plaintext

```C++
[Ali....000] (10 bytes)
[Mohamed.00] (10 bytes)
[Abdallah.0] (10 bytes)
```

_ุจููู ูุงุญุฏ ูุตูุชุ ููู ูุฑุงุบุงุช ูุชูุฑ._

**ุงูุทุฑููุฉ ุงูุฐููุฉ (Array of Pointers):**

Plaintext

```C++
[ Ptr1 ] ----> "Ali"
[ Ptr2 ] ----> "Mohamed"
[ Ptr3 ] ----> "Abdallah"
```

_ุงููุตูููุฉ ุดุงููุฉ ููุงุชูุญ ุจุณุ ูุงูุจูุงูุงุช ูุชุทุฑูุฉ ูู ุฃูุงูู ูุชูุฑูุฉุ ูู ูุงุญุฏ ูุงุฎุฏ ููุงุณู._

---

### 5. ุณุคุงู ุฅูุชุฑููู ุฎุจูุซ ุฌุฏุงู ๐ฅ

ุณ: ุฅูู ุงููุฑู ุจูู char *arr[] ู char (*arr)[]ุ

(ุงูุฃููุงุณ ุจุชุบูุฑ ุงููุนูู 180 ุฏุฑุฌุฉ!)

1. `char *arr[5]`:
    
    - ุฏู ุงููู ุดุฑุญูุงูุง ููู. **Array of 5 Pointers**.
        
    - (ุงูุฃููููุฉ ููุฃููุงุณ ุงููุฑุจุนุฉ `[]` ูุจู ุงููุฌูุฉ `*`).
        
2. `char (*arr)[5]`:
    
    - ุฏู **Pointer to an Array**.
        
    - ุฏู ูุคุดุฑ ูุงุญุฏ ุจุณุ ุจูุดุงูุฑ ุนูู ูุตูููุฉ ูุงููุฉ ุญุฌููุง 5 ุจุงูุช.
        
    - (ุงูุฃููุงุณ ุงููุฏูุฑุฉ `()` ุฃุฌุจุฑุช ุงููููุจุงููุฑ ูุนุชุจุฑ `*arr` ุญุชุฉ ูุงุญุฏุฉ).
        

> [!TIP] ูุตูุญุฉ
> 
> ูู ุงูู Embeddedุ ุจูุณุชุฎุฏู ุงูููุน ุงูุฃูู char *arr[] ูุชูุฑ ุฌุฏุงู ุนุดุงู ูุนูู Lookup Tables ุฃู ููุงุฆู ูุตูุต (ุฒู ุฑุณุงุฆู ุงูู LCD) ุนุดุงู ูููุฑ ูุณุงุญุฉ ุงูู RAM ูุงูู Flash.

---

ุญูู ุนููุง ูุง ููุฏุณุฉุ ููุง ูููู. ุงูุญุชุฉ ุฏู ุจุงูุฐุงุช (ุงูุฃููุงุณ ูุงููุฌูุฉ) ุจุชุนูู "ุงูุฑูุฑ" ูู ุฏูุงุบ ูุงุณ ูุชูุฑ ุญุชู ุงูุณููููุฑุฒุ ูุฃููุง ุนุงููุฉ ุฒู "ุงูุฅุนุฑุงุจ" ูู ุงููุบุฉ ุงูุนุฑุจูุฉ.. ููุงู ุงูููุณ ุจูุบูุฑ ุงููุนูู ุชูุงูุงู.

ุชุนุงูู ูููููุง ุญุชุฉ ุญุชุฉ ุจุฃุณููุจ "ููู ุจูุบูุจ ููู".

---

### ูุงุนุฏุฉ ุงูุญุฑุจ: ููู ุงูุฃูููุ ๐ช

ูู ูุบุฉ Cุ ููู ุฎูุงูุฉ ุฏุงููุฉ ุจูู ุงูุฃููุงุณ ุงููุฑุจุนุฉ `[]` ูุงููุฌูุฉ `*`.

- ุงููุงุนุฏุฉ ุจุชููู: **ุงูุฃููุงุณ `[]` ุฃููู ูู ุงููุฌูุฉ `*`**.
    
- ูุนูู ุงููููุจุงููุฑ ุจูุจุต ุนูู ุงูุงุณู `arr`ุ ููุดูู ููู ูุงุฒู ููู ุฃูููุ ููุฑุจุทู ุจูู ุงูุฃูู.
    

ุชุนุงูู ูุทุจู ุงููุงุนุฏุฉ ุฏู ุนูู ุงูุญุงูุชูู:

---

### ุงูุญุงูุฉ ุงูุฃููู: `int *arr[5]`

(ููุง ูููุด ุฃููุงุณ ูุฏูุฑุฉ ุชุญูู ุงููุฌูุฉ).

1. **ุงูุฎูุงูุฉ:** ุงูุงุณู `arr` ุฌูุจู `*` ูุฌูุจู `[5]`.
    
2. **ุงูุญูู:** ุงูู `[5]` ุฃูููุ ููู ุงููู ูุชุงุฎุฏ ุงูู `arr`.
    
3. **ุงูุชุฑุฌูุฉ:**
    
    - ูุง ูููุจุงููุฑุ `arr` ุฏู ุนุจุงุฑุฉ ุนู **Array** ุญุฌููุง 5...
        
    - ุทุจ ุงูู Array ุฏู ุดุงููุฉ ุฅููุ (ููุง ูุจุต ุนูู ุงููุฌูุฉ).
        
    - ุดุงููุฉ **Pointers**.
        

ุงููุชูุฌุฉ (Array of Pointers):

ุฃูุช ุนูุฏู 5 ุตูุงุฏูู (Array)ุ ูู ุตูุฏูู ุฌูุงู "ุนููุงู".

- `arr[0]` -> ูุคุดุฑ ุจูุดุงูุฑ ุนูู ููุงู.
    
- `arr[1]` -> ูุคุดุฑ ุจูุดุงูุฑ ุนูู ููุงู ุชุงูู.
    
- ุฒู ูุง ูููู ุนูุฏู 5 ููุธูููุ ูู ูุงุญุฏ ูุนุงู ููุชุงุญ ูุดูุฉ ูุฎุชููุฉ.
    

---

### ุงูุญุงูุฉ ุงูุซุงููุฉ: `int (*arr)[5]`

(ููุง ุญุทููุง ุฃููุงุณ ูุฏูุฑุฉ `()` ุญูุงููู ุงููุฌูุฉ ูุงูุงุณู).

1. **ุงูุฎูุงูุฉ:** ุงูุฃููุงุณ ุงููุฏูุฑุฉ `()` ุฏู ุฒู "ุงูุญุตู". ูู ุฃุฌุจุฑุช ุงููููุจุงููุฑ ูุจุต ููู ุฌูุงูุง ุงูุฃูู.
    
2. **ุงูุญูู:** ุงูู `*` ุงุฑุชุจุทุช ุจู `arr` ุบุตุจ ุนู ุงูู `[]`.
    
3. **ุงูุชุฑุฌูุฉ:**
    
    - ูุง ูููุจุงููุฑุ `arr` ุฏู ุนุจุงุฑุฉ ุนู **Pointer** (ูุงุญุฏ ุจุณ)...
        
    - ุทุจ ุงููุคุดุฑ ุฏู ุจูุดุงูุฑ ุนูู ุฅููุ (ููุง ูุจุต ุจุฑู ุงูููุณ).
        
    - ุจูุดุงูุฑ ุนูู **Array ูุงููุฉ** ุญุฌููุง 5.
        

ุงููุชูุฌุฉ (Pointer to an Array):

ุฃูุช ุนูุฏู ุตูุฏูู ูุงุญุฏ ุจุณ (Pointer)ุ ุงูุตูุฏูู ุฏู ุดุงูู ุนููุงู "ุจููู ูุงูู" ูููู ูู 5 ุฃุฑูุงู.

- ุฒู ูุง ูููู ุนูุฏู ูุฏูุฑ ูุงุญุฏ (Pointer)ุ ูุงุณู "ุฏูุณูู" (ุงูููู ููู) ููู 5 ูุฑูุงุช.
    

---

### ุจุงููุซุงู ูุชุถุญ ุงูููุงู (ุงููุฑู ูู ุงูู ++Step) ๐ฅ

ุนุดุงู ุชููู ุงููุฑู ุจุฌุฏุ ุดูู ููุง ูููู ูููุคุดุฑ "ุงุชุญุฑู ุฎุทูุฉ" (`++`)ุ ูููุท ูุฏ ุฅููุ

C++

```c
#include <iostream>
using namespace std;

int main() {
    // 1. Array of Pointers (ูุตูููุฉ ูุคุดุฑุงุช)
    int *arr1[5]; 
    // arr1 ุฏู ูุตูููุฉุ ูู ุนูุตุฑ ูููุง ูุคุดุฑ (4 ุจุงูุช ุฃู 8 ุจุงูุช)
    // ูู ููุช arr1 + 1 ูููุท ูููุงู ุงููุคุดุฑ ุงููู ุจุนุฏู (ูููุท 8 ุจุงูุช ูุซูุงู)

    // 2. Pointer to Array (ูุคุดุฑ ููุตูููุฉ)
    int (*arr2)[5];
    // arr2 ุฏู ูุคุดุฑ ูู "ุจููู" ุญุฌูู (5 * sizeof(int))
    // ูุนูู ุงูุจููู ุญุฌูู 5 * 4 = 20 ุจุงูุช
    
    printf("--- The Leap Test ---\n");
    printf("arr2 Address:       %p\n", (void*)arr2);
    printf("arr2 + 1 Address:   %p\n", (void*)(arr2 + 1));
    // ุงููุฑู ููุง ููููู 20 ุจุงูุช ูุงููุฉ! (ูุฃูู ูุท ูุตูููุฉ ูุงููุฉ)
    
    return 0;
}
```

### ุงูุฎูุงุตุฉ (ุงูุฒุชููุฉ):

1. `*arr[5]`: **ุฏูู 5 ูุคุดุฑุงุช**. (ุจุณุชุฎุฏููุง ุนุดุงู ุฃุนูู ูุตูููุฉ ูุตูุต ูุชุบูุฑุฉ ุงูุทูู ุฒู ูุง ุดุฑุญูุง ูู Ragged Array).
    
2. `(*arr)[5]`: **ุฏู ูุคุดุฑ ูุชูู** ุจูุดุงูุฑ ุนูู ุตู ูุงูู. (ุจุณุชุฎุฏููุง ููุง ุฃุจุนุช 2D Array ููุงููุดู).
    

**ุฅุฒุงู ุชูุฑุฃูุง ุจุณูููุฉุ**

- ุงูุฑุฃ ูู ุฌูู ูุจุฑูุ ูุงุชุจุน ุงูุฃููุงุณ.
    
- ูู ููู `()` ุญูุงููู ุงููุฌูุฉ -> ูุจูู ุฏู **ูุคุดุฑ ูุงุญุฏ**.
    
- ูู ูููุด `()` -> ูุจูู ุฏู **ูุตูููุฉ**.
    

---


ูุฃู ุงูู new ูู C++ ุจุชุบูุฑ ุทุฑููุฉ ุชูููุฑูุง ุดููุฉ ุนู ุงูู malloc ุจุชุงุนุฉ ุงูู Cุ ูุจุชุฎููู ุชุดูู "ุงูููุน" (Type) ุจูุถูุญ ุฃูุชุฑ.

ุชุนุงูู ูุฑุจุท "ุงูุฎูุงูุฉ" ุงููู ูุงุชุช (ุงูุฃููุงุณ vs ุงููุฌูุฉ) ุจููููุฉ ุญุฌุฒ ุงูููููุฑู ุฏููุงููููุงู ุจุงุณุชุฎุฏุงู `new`.

---

### 1. ุงูุญุงูุฉ ุงูุฃููู: Dynamic Array of Pointers

ุงููุฏู: ุนุงูุฒ ุฃุนูู ูุตูููุฉ ุตููููุง "ูุฑูุฉ" (Ragged Array)ุ ููู ุตู ูููู ูููู ููู ุทูู ูุฎุชูู.

ุงูููุงูุฆ ูู: int *arr[] ุจุณ ุงููุฑุฉ ุฏู ุนุฏุฏ ุงูุตููู ููุงู ูุด ูุนุฑูู ููุช ุงููููุจุงูู.

ููุง ููุณุชุฎุฏู **Pointer to Pointer (`int**`)**.

**ููู `int**`ุ**

- ูุฃู `new` ูุชุฑุฌุนูู ูุตูููุฉ ุดุงููุฉ ูุคุดุฑุงุช (`int*`).
    
- ููุคุดุฑ ุนูู ูุคุดุฑ ูุนูู `int**`.
    

**ุงูููุฏ ูุงูุฎุทูุงุช:**

C++

```c
#include <iostream>
using namespace std;

void case1_dynamic_pointers() {
    int rows = 3;
    
    // 1. ุงุญุฌุฒ "ุงูุนููุฏ ุงูููุฑู": ูุตูููุฉ ุดุงููุฉ ูุคุดุฑุงุช (ูุด ุฃุฑูุงู)
    int **matrix = new int*[rows]; 

    // 2. ูู ุนูู ูู ูุคุดุฑ ูุงุญุฌุฒ ูู ุงูุตู ุจุชุงุนู (ูููู ุจุฃุญุฌุงู ูุฎุชููุฉ)
    for (int i = 0; i < rows; i++) {
        // ูุซูุงู: ุงูุตู ุงูุฃูู 5ุ ุงูุชุงูู 10ุ ุงูุชุงูุช 2
        matrix[i] = new int[i + 5]; 
    }

    // ุงูุงุณุชุฎุฏุงู ุนุงุฏู ุฌุฏุงู
    matrix[0][0] = 99;

    // 3. ุงูุชูุธูู (ููู ุฌุฏุงู): ูุงุฒู ุชูุณุญ ุจุงูุนูุณ
    for (int i = 0; i < rows; i++) {
        delete[] matrix[i]; // ุงูุณุญ ุงูุตููู ุงูุฃูู
    }
    delete[] matrix; // ูุจุนุฏูู ุงูุณุญ ุงูุนููุฏ ุงูููุฑู
}
```

- **ุดูู ุงูููููุฑู:** ูุชุจุนุซุฑุฉ (Fragmented). ูู ุตู ูู ููุงู ููุญุฏู.
    

---

### 2. ุงูุญุงูุฉ ุงูุซุงููุฉ: Dynamic Pointer to Array

ุงููุฏู: ุนุงูุฒ ุฃุญุฌุฒ ุจููู ููููุฑู ูุจูุฑ "ุญุชุฉ ูุงุญุฏุฉ" (Contiguous)ุ ุจุณ ุฃุชุนุงูู ูุนุงู ูุฃูู 2D Array ุจุนุฑุถ ุซุงุจุช (ูุซูุงู 5 ุฃุนูุฏุฉ).

ุงูููุงูุฆ ูู: int (*arr)[5].

ููุง `new` ูุชุญุฌุฒ ุงูุจููู ููู ูุฑุฉ ูุงุญุฏุฉ.

**ุงูุชุฑููุจุฉ ุงูุนุฌูุจุฉ:**

C++

```c
void case2_pointer_to_array() {
    int rows = 3;
    // ุนุฏุฏ ุงูุฃุนูุฏุฉ ูุงุฒู ูููู ุซุงุจุช ููุนุฑูู (Constant) ุนุดุงู ุงูููุน ูุธุจุท
    const int cols = 5; 

    // 1. ุงูุญุฌุฒ: ุณุทุฑ ูุงุญุฏ ุจุณ!
    // ุงูุชุฑุฌูุฉ: ุงุญุฌุฒูู (3 * 5) ููุงูุ ูุฑุฌุนูู ูุคุดุฑ ุจูููู ุฅู "ุงููุทุฉ" ุจู 5
    int (*matrix)[cols] = new int[rows][cols];

    // ุงูุงุณุชุฎุฏุงู
    matrix[1][2] = 77; // ุจูุญุณุจ ุงูุนููุงู: Base + (1*5 + 2)*4

    // 2. ุงูุชูุธูู: ุณุทุฑ ูุงุญุฏ ุจุณ!
    delete[] matrix; // ุจููุณุญ ุงูุจููู ููู ูุฑุฉ ูุงุญุฏุฉ
}
```

- **ุดูู ุงูููููุฑู:** ุญุชุฉ ูุงุญุฏุฉ ูุตูุชุฉ (ุจููู ูุงุญุฏ). ุฃุณุฑุน ูู ุงููุงุด (Cache Friendly).
    

---

### ููุงุฑูุฉ "ุชุญุช ุงููุจูุช" (ุนุดุงู ุชุซุจุช) โ๏ธ

|**ูุฌู ุงูููุงุฑูุฉ**|**int **p (ุงูุญุงูุฉ 1)**|**int (*p)[5] (ุงูุญุงูุฉ 2)**|
|---|---|---|
|**ุนุฏุฏ ูุฑุงุช ุงูู Allocation**|`rows + 1` (ูุชูุฑ)|ูุฑุฉ ูุงุญุฏุฉ (1)|
|**ุดูู ุงูููููุฑู**|ูุชูุฑูุฉ (Scattered)|ูุชุตูุฉ (Contiguous)|
|**ุงููุตูู ููููููุฑู**|ููุฒุชูู (Two Hops)|ููุฒุฉ ูุงุญุฏุฉ (ุญุณุงุจูุฉ)|
|**ุงููุฑููุฉ**|ูู ุตู ูููู ูููู ุจุทูู ูุฎุชูู|ูุงุฒู ุงูุฃุนูุฏุฉ ุชููู ุซุงุจุชุฉ|
|**ุงูุงุณุชุฎุฏุงู ุงูุฃุดูุฑ**|ูุตูุตุ ููุงุฆู ุบูุฑ ููุชุธูุฉ|ูุนุงูุฌุฉ ุงูุตูุฑ (Matrices)|

---

### ุณุคุงู ููู ูุง ููุฏุณุฉ ๐ง

ูู ุงูุญุงูุฉ ุงูุชุงููุฉ:

int (*matrix)[5] = new int[3][5];

ูู ุญุจูุช ุฃุฌูุจ ุนููุงู ุงูุตู ุฑูู 1ุ ุฃูุชุจ ุฅููุ

1. `matrix[1]`
    
2. `*(matrix + 1)`
    

ุงูุฅุฌุงุจุฉ: ุงูุงุชููู ุตุญ!

ูุฃู matrix ูุคุดุฑ ูู "Array size 5". ููุง ุชุฌูุน ุนููู 1ุ ุจููุท 5 ุฃูุงูู (5 * sizeof(int)).

---
ุชูุงู ูุง ููุฏุณุฉุ ุฃูุช ูุฏู ุนุงูุฒ "ุงูุฒุชููุฉ" ุจุชุงุนุฉ ุงูู **Ragged Array** ุจุงุณุชุฎุฏุงู ุงูู `new` ู ุงูู `Pointer to Pointer`.

ุงููุซุงู ุฏู ูููุถุญูู ุฅุฒุงู ุจูุจูู ูุตูููุฉ "ุบูุฑ ููุชุธูุฉ" (ุตููููุง ูุด ูุฏ ุจุนุถ)ุ ูุฏู ููุฉ ุงูุชูููุฑ ูู ุงูููููุฑูุ ูุฃูู ูุด ุจุชุญุฌุฒ ููุง ุจุงูุช ุฒูุงุฏุฉ.

---

### ุณููุงุฑูู ุงููุซุงู: "ูุตูู ุงููุฏุฑุณุฉ" ๐ซ

ุชุฎูู ุฅููุง ุจูุนูู ุฏุงุชุง ุจูุฒ ููุฏุฑุณุฉ ูููุง 3 ูุตููุ ุจุณ ุนุฏุฏ ุงูุทูุงุจ ูู ูู ูุตู ูุฎุชูู:

- **ุงููุตู ุงูุฃูู:** ููู ุทุงูุจูู (2).
    
- **ุงููุตู ุงูุซุงูู:** ููู 4 ุทูุงุจ.
    
- **ุงููุตู ุงูุซุงูุซ:** ููู 3 ุทูุงุจ.
    

ูู ุนูููุงูุง arr[3][4] ููุถูุน ูุณุงุญุฉ ูู ุงููุตู ุงูุฃูู ูุงูุซุงูุซ.

ุงูุญู: Ragged Array.

### ููุฏ ุงูุจูุงุก (ุฎุทูุฉ ุจุฎุทูุฉ) ๐๏ธ

ุงูุณุฎ ุงูููุฏ ุฏู ูุฑูุฒ ูู ุงูุชุนูููุงุช ุนุดุงู ุฏู ุฃูู ูู ุงูููุฏ ููุณู:



```c
#include <iostream>
using namespace std;

int main() {
    // 1. ุชุนุฑูู ุงููููู ุงูุฃุณุงุณู (ุงูุนููุฏ ุงูููุฑู)
    // int** : ุนุดุงู ุฏู ูุคุดุฑ ููุดุงูุฑ ุนูู ูุคุดุฑุงุช ุชุงููุฉ
    int rows = 3;
    int **school = new int*[rows]; 
    // ุฏูููุชู ุนูุฏูุง ูุตูููุฉ ุทูููุง 3ุ ุจุณ ูู ุนูุตุฑ ูููุง ุนุจุงุฑุฉ ุนู (Garbage Pointer)

    // 2. ุญุฌุฒ ุงูุตููู (Allocation) ุจุฃุญุฌุงู ูุฎุชููุฉ
    // ุฃุญูุง ุนุงุฑููู ููุงุณ ูู ูุตูุ ูุจูุญุฌุฒ ุนูู ูุฏู ุจุงูุธุจุท
    
    // ุงููุตู ุงูุฃูู (ููุงููู)
    school[0] = new int[2]; 
    
    // ุงููุตู ุงูุซุงูู (4 ุฃูุงูู)
    school[1] = new int[4]; 
    
    // ุงููุตู ุงูุซุงูุซ (3 ุฃูุงูู)
    school[2] = new int[3];

    // ุดูู ุงูููููุฑู ุฏูููุชู:
    // school[0] ----> [Student, Student]
    // school[1] ----> [Student, Student, Student, Student]
    // school[2] ----> [Student, Student, Student]

    // 3. ุฅุฏุฎุงู ุงูุจูุงูุงุช (Data Entry)
    // ุงูุชุนุงูู ูุนุงูุง ูุฃููุง 2D Array ุนุงุฏูุฉ ุฌุฏุงู
    
    // ุจูุงูุงุช ุงููุตู ุงูุฃูู
    school[0][0] = 10; school[0][1] = 20;

    // ุจูุงูุงุช ุงููุตู ุงูุซุงูู
    school[1][0] = 30; school[1][1] = 40; school[1][2] = 50; school[1][3] = 60;

    // ุจูุงูุงุช ุงููุตู ุงูุซุงูุซ
    school[2][0] = 70; school[2][1] = 80; school[2][2] = 90;

    // 4. ุงูุนุฑุถ (Printing)
    // ูุงุฒู ุฃููู ุนุงุฑู ุญุฌู ูู ุตู ูุฃูุง ุจุทุจุน (ุนุงุฏุฉ ุจูุฎุฒู ุงูุฃุญุฌุงู ูู ูุตูููุฉ ุชุงููุฉ)
    int sizes[] = {2, 4, 3};

    cout << "--- School Database (Ragged Array) ---" << endl;
    for (int i = 0; i < rows; i++) {
        cout << "Class " << i + 1 << ": ";
        for (int j = 0; j < sizes[i]; j++) {
            cout << school[i][j] << " ";
        }
        cout << endl;
    }

    // 5. ุงูุชูุธูู (Deallocation) - ุฃุฎุทุฑ ูุฑุญูุฉ โ๏ธ
    // ูุงุฒู ููุณุญ "ูู ุชุญุช ูููู" (ุงูุตููู ุงูุฃููุ ูุจุนุฏูู ุงูุนููุฏ ุงูููุฑู)
    
    for (int i = 0; i < rows; i++) {
        delete[] school[i]; // ุงูุณุญ ุงูุทูุงุจ ุจุชูุน ุงููุตู ุฏู
    }
    
    delete[] school; // ูู ุงูุขุฎุฑ ุงูุณุญ ุงููุงุฆูุฉ ุจุชุงุนุฉ ุงููุตูู ููุณูุง
    // ูู ูุณุญุช school ุงูุฃููุ ูุชุถูุน ุนูุงููู ุงููุตูู ููุญุตู Memory Leak

    return 0;
}
```

---

### ุชุดุฑูุญ ุงูููููุฑู (ุชุญุช ุงููุจูุช) ๐ง

ุนุดุงู ุชุชุฎูู ุงูู `int **school` ุฏู ุนุงูู ุฅุฒุงู:

1. school (The Double Pointer):
    
    ุฏู ูุชุบูุฑ ูุงุญุฏ ุจุณ ูู ุงูู Stackุ ูููุชู ุนุจุงุฑุฉ ุนู ุนููุงู "ูุตูููุฉ ุงููุคุดุฑุงุช" ูู ุงูู Heap.
    
2. school[i] (The Array of Pointers):
    
    ุฏู ุงููุตูููุฉ ุงูุฑุฃุณูุฉ ุงููู ุญุฌุฒูุงูุง ุฃูู ูุฑุฉ (new int*[3]).
    
    ูู ุตูุฏูู ูููุง (school[0], school[1]) ูุด ุดุงูู ุฑููุ ุดุงูู ุนููุงู ุตู.
    
3. school[i][j] (The Data):
    
    ุฏู ุงูุจูุงูุงุช ุงููุนููุฉ (ุงูุทูุงุจ) ุงููู ูุญุฌูุฒุฉ ูู ุฃูุงูู ูุชูุฑูุฉ ูู ุงูู Heap.
    

---

### ูุซุงู ุชุงูู: Dynamic String Menu (ูุดุบู ุงูู Embedded) ๐

ุฏู ูุซุงู ุญูููู ุจูุณุชุฎุฏูู ููุง ูููู ุนุงูุฒูู ูุนุฑุถ ุฑุณุงูู ุนูู ุดุงุดุฉ LCD ูุฃุทูุงู ุงูุฑุณุงูู ูุฎุชููุฉุ ูุนุงูุฒูู ูููุฑ ูู ุงูุฑุงูุงุช.



```c
#include <iostream>
#include <cstring> // ุนุดุงู strcpy
using namespace std;

int main() {
    int msgCount = 3;
    
    // ูุตูููุฉ ูุคุดุฑุงุช ููุญุฑูู (char**)
    char **lcdMsgs = new char*[msgCount];

    // ุงูุฑุณุงุฆู ุงููู ุนุงูุฒูู ูุฎุฒููุง
    const char* tempMsgs[] = {"Error", "System Ready", "OK"};

    // ุงูููุจ ุงูุณุญุฑู ููุญุฌุฒ ุงูุฏููุงูููู
    for(int i = 0; i < msgCount; i++) {
        // ุจูุดูู ุทูู ุงููููุฉ ูุงู + 1 ุนุดุงู ุงูู Null Terminator
        int len = strlen(tempMsgs[i]) + 1;
        
        // ุจูุญุฌุฒ ููุงู ุนูู ูุฏ ุงููููุฉ ุจุงููููู!
        lcdMsgs[i] = new char[len];
        
        // ุจููุณุฎ ุงููููุฉ ูู ุงูููุงู ุงููุญุฌูุฒ
        strcpy(lcdMsgs[i], tempMsgs[i]);
    }

    // ุงูุนุฑุถ
    cout << "\n--- LCD Buffer ---" << endl;
    for(int i = 0; i < msgCount; i++) {
        cout << "Line " << i << ": " << lcdMsgs[i] << endl;
    }

    // ุงูุชูุธูู (ูุงุฌุจ ููุฒูู ููู: ูุชูุณุงุด ุชูุณุญ!)
    for(int i=0; i<msgCount; i++) delete[] lcdMsgs[i];
    delete[] lcdMsgs;

    return 0;
}
```

### ุงูุฎูุงุตุฉ:

ุงูู **Ragged Array** ูู ุงูุชุทุจูู ุงูุนููู ููู **Double Pointer** (`Type **ptr`).

- **ุงูููุฒุฉ:** ุชูููุฑ ุฑููุจ ููููููุฑู (No Wasted Space).
    
- **ุงูุนููุจ:** ุฅุฏุงุฑุฉ ุงูููููุฑู ุตุนุจุฉ (Allocation/Deallocation)ุ ูุชุนุชุจุฑ ุฃุจุทุฃ ุณูุฉ ุตุบูุฑุฉ ูู ุงููุตูู ุนุดุงู ุจุชุนูู ููุฒุชูู (Double Dereference).
    

---
ุนูููุง ูุง ููุฏุณุฉ.. ุชุนุงูู ูููู "ุนูุฏุฉ" ุงูู **Function Pointers** ููุดุฑุญูุง ูู ุงูุตูุฑุ ูุฃู ุฏู ูุนูุงู ูู ุงููู ุจุชููุฒ "ุงููุญุชุฑู" ุนู "ุงููุจุชุฏุฆ" ูู ูุบุฉ C.

ุงูู Function Pointer ูู ุงููููุฉ ุงูููุนูุฉ ูู ุงูุชูููุฑ ูู **ุงูุจูุงูุงุช** (Data) ููุชูููุฑ ูู **ุงูุณููู** (Behavior).

---

### 1. ุงูููุฑุฉ ุงูููุณููุฉ (The Concept) ๐ง

ุฅูุช ุนุงุฑู ุฅู ุงููุชุบูุฑุงุช (int x = 10) ุจุชุชุฎุฒู ูู ุงูููููุฑู (ูู ุงูู RAM)ุ ููููุง ุนููุงู.

ุงูููุงุฌุฃุฉ ุจูู: ุงููุงููุดู ููุงู ุจุชุชุฎุฒู ูู ุงูููููุฑู! (ุจุณ ูู ููุทูุฉ ุงูููุฏ ุงูู .text section ุฃู ุงูู Flash ูู ุงูู Embedded).

ูุจูุง ุฅู ุงููุงููุดู ูููุง ููุงูุ ูุจูู ุฃููุฏ ูููุง ุนููุงู (Address).

ูุจูุง ุฅู ูููุง ุนููุงูุ ูุจูู ุฃูุฏุฑ ุฃุนูู ูุคุดุฑ (Pointer) ูุดุงูุฑ ุนูููุง.

ุฅูู ุงููุงูุฏุฉุ

ููุง ูููู ูุนุงู "ุนููุงู" ุงูููุฏุ ุชูุฏุฑ:

1. ุชุจุนุชู ููุงููุดู ุชุงููุฉ (Callback).
    
2. ุชุฎุฒูู ูู ูุตูููุฉ (Array of Functions).
    
3. ุชุบูุฑ ุงูููุฏ ุงููู ููุชููุฐ ูุฃูุช ุดุบุงู (Runtime Binding).
    

---

### 2. ุงูุณูุชูุณ ุงููุฑุนุจ (Syntax Nightmare) ๐ป

ุฃูุจุฑ ูุดููุฉ ุจุชูุงุฌู ุงููุงุณ ูู ุทุฑููุฉ ุงููุชุงุจุฉ.

ุงููุงุนุฏุฉ ุงูุฐูุจูุฉ: "ุงูุชุจูุง ุฒู ูุง ุจุชูุงุฏููุง".

ุนุดุงู ุชุนุฑู ูุคุดุฑ ููุงููุดู ุจุชุงุฎุฏ int ูุจุชุฑุฌุน void:

1. ุงูุชุจ ุดูู ุงููุงููุดู ุงูุนุงุฏูุฉ: `void myFunc(int x)`
    
2. ุดูู ุงูุงุณู ูุญุท `(*ptr)`: `void (*ptr)(int)`
    

> [!DANGER] ุงููุฑู ุงููุงุชู (ุงูุฃููุงุณ)
> 
> - `void *ptr(int)` โ
> - ุฏู ูุงููุดู ุนุงุฏูุฉ ุงุณููุง `ptr`ุ **ุจุชุฑุฌุน ูุคุดุฑ** (`void*`).
>     
> - void (*ptr)(int) โ 
> - ุฏู ูุคุดุฑ ุงุณูู ptrุ ุจูุดุงูุฑ ุนูู ูุงููุดู.
>     
>     (ุงูุฃููุงุณ ุญูุงููู ุงููุฌูุฉ ูู ุงููู ุญููุชู ููุคุดุฑ).
>     

---

### 3. ุงูุชุทุจูู ุงูุนููู 1: ุงูุฃุณุงุณูุงุช (Hello World)

ุชุนุงูู ูุดูู ุฅุฒุงู ุจูุดุงูุฑ ุนูู ูุงููุดู ูููุงุฏููุง.



```c
#include <stdio.h>

void sayHello(int times) {
    for(int i=0; i<times; i++) printf("Hello Embedded!\n");
}

int main() {
    // 1. ุชุนุฑูู ุงููุคุดุฑ
    // ูุงุฒู ูููู ููุณ "ุจุตูุฉ" ุงููุงููุดู (Signature): ููุณ ุงูู Return ูููุณ ุงูู Params
    void (*funcPtr)(int); 

    // 2. ุงูุชูุฌูู (Assignment)
    // ุงุณู ุงููุงููุดู ููุญุฏู ูู ุนููุงููุง (ุฒู ุงุณู ุงูู Array ุจุงูุธุจุท)
    funcPtr = sayHello; 
    // ุฃู ูููู ุชูุชุจ: funcPtr = &sayHello; (ุงูุงุชููู ุตุญ)

    // 3. ุงูุงุณุชุฏุนุงุก (Calling)
    // ุงูุทุฑููุฉ ุงูุตุฑูุญุฉ (Dereference Code):
    (*funcPtr)(3); 
    
    // ุงูุทุฑููุฉ ุงููุฎุชุตุฑุฉ (C++ style):
    funcPtr(3); // ุงููููุจุงููุฑ ุฐูู ูุจูููู ุฅูู ุจุชูุงุฏู ุงููุคุดุฑ

    return 0;
}
```

---

### 4. ุงูุชุทุจูู ุงูุนููู 2: ุงูููุฉ ุงูุญููููุฉ (Array of Function Pointers) ๐

ุชุฎูู ุฅูู ุจุชุนูู Menu ูู ุณูุณุชู Embedded.

ุนูุฏู 3 ุงุฎุชูุงุฑุงุช: (1: Start, 2: Stop, 3: Reset).

**ุงูุทุฑููุฉ ุงูุชูููุฏูุฉ (Spaghetti Code):**



```c
if (choice == 1) start();
else if (choice == 2) stop();
else if (choice == 3) reset();
```

_(ูู ุนูุฏู 100 ุงุฎุชูุงุฑ.. ุงูููุฏ ููุจูู ุจุทูุก ุฌุฏุงู ูุดููู ูุญุด)._

ุทุฑููุฉ ุงููุญุชุฑููู (Lookup Table):

ุจูุนูู ูุตูููุฉ ุดุงููุฉ "ุนูุงููู" ุงูุฏูุงูุ ูุจููุงุฏู ุงูุฏุงูุฉ ุจู Index ุจุณ! ($O(1)$ Time Complexity).



```c
#include <stdio.h>

void start() { printf("System Starting...\n"); }
void stop()  { printf("System Stopping...\n"); }
void reset() { printf("System Resetting...\n"); }

int main() {
    // 1. ูุตูููุฉ ูุคุดุฑุงุช ุฏูุงู
    // ุงูููุน: void (*)(void)
    void (*actions[])(void) = {
        start, // index 0
        stop,  // index 1
        reset  // index 2
    };

    int userChoice = 1; // ุชุฎูู ุงูููุฒุฑ ุงุฎุชุงุฑ ุฑูู 1 (Stop)

    // 2. ุงูุณุทุฑ ุงูุณุญุฑู (ุจุฏู ุงูู if/else)
    // ุฑูุญ ูููุตูููุฉุ ูุงุช ุงูุนููุงู ุฑูู 1ุ ูููุฐู
    actions[userChoice](); 

    return 0;
}
```

---

### 5. ุงูุชุทุจูู ุงูุนููู 3: ุงูู Callback (ุฌููุฑ ุงูู Drivers) ๐

ุฏู ุงููุซุงู ุงููู ุจูุดุฑุญ ุงูุนูุงูุฉ ุจูู ูููุฏุณ ุงูู Hardware (ุงููู ุจููุชุจ Driver) ููููุฏุณ ุงูู Software (ุงููู ุจููุชุจ Application).

- **ุงููุดููุฉ:** ูุงุชุจ ุงูุฏุฑุงููุฑ ุนุงูุฒ ูููู: "ููุง ุงูุฒุฑุงุฑ ูุชุฏุงุณุ ุฃูุง ูููุฐ **ุฃู ุญุงุฌุฉ** ุฅูุช ุนุงูุฒูุง".
    
- **ุงูุญู:** Function Pointer.
    



```c
#include <iostream>
using namespace std;

// --- ุงูููุฑูุถ ุฏู ููู Driver.h ---
// ุจูุณุชุฎุฏู typedef ุนุดุงู ูุฑูุญ ุฏูุงุบูุง ูู ุงูุณูุชูุณ ุงููุนูุฏ
// ูุนูุงูุง: ุฃู ุญุงุฌุฉ ููุนูุง EventCallback ูู ุนุจุงุฑุฉ ุนู ูุคุดุฑ ููุงููุดู void(void)
typedef void (*EventCallback)(void); 

// ูุชุบูุฑ ุฌููุจุงู ุฌูู ุงูุฏุฑุงููุฑ ุดุงูู ุนููุงู ุงููุงููุดู ุงููู ูุชุชููุฐ
EventCallback button_callback = NULL;

// ุฏุงูุฉ ุงูุชุณุฌูู: ุงูุฃุจููููุดู ุจูุณุชุฎุฏููุง ุนุดุงู ูุณุฌู ุงููุงููุดู ุจุชุงุนุชู
void Button_SetCallback(EventCallback cb) {
    button_callback = cb;
}

// ุฏุงูุฉ ุงููุญุงูุงุฉ (ISR): ุฏู ุงููู ุจุชุชููุฐ ููุง ุงููุงุฑุฏููุฑ ูุจุนุช ุฅุดุงุฑุฉ
void Button_ISR() {
    cout << "[ISR] Hardware Interrupt Fired!" << endl;
    if (button_callback != NULL) {
        button_callback(); // ููุฐ ููุฏ ุงูุฃุจููููุดู
    }
}

// --- ุงูููุฑูุถ ุฏู ููู main.c (Application) ---
void turnOnLed() {
    cout << "--> LED is ON (App Logic)" << endl;
}

void sendData() {
    cout << "--> Sending Wi-Fi Data (App Logic)" << endl;
}

int main() {
    // ุงูุณููุงุฑูู 1: ุนุงูุฒ ููุง ุงูุฒุฑุงุฑ ูุชุฏุงุณ ุงูููุฏ ุชููุฑ
    Button_SetCallback(turnOnLed);
    
    // (ูุญุงูุงุฉ ูุถุบุท ุงูุฒุฑุงุฑ)
    Button_ISR(); 

    cout << "----------------" << endl;

    // ุงูุณููุงุฑูู 2: ุบูุฑุช ุฑุฃููุ ุนุงูุฒ ุฃุจุนุช ุฏุงุชุง
    Button_SetCallback(sendData);
    
    // (ูุญุงูุงุฉ ูุถุบุท ุงูุฒุฑุงุฑ ุชุงูู)
    Button_ISR();

    return 0;
}
```

### ๐ก ููุญูุธุฉ ูููุฉ ุฌุฏุงู (typedef):

ุนุดุงู ูุงุชุชุฌููุด ูู ุงูุฃููุงุณุ ุฏุงููุงู ุงุณุชุฎุฏู `typedef` ูุน ุงูู Function Pointers.



```c
// ุงูุทุฑููุฉ ุงูุตุนุจุฉ
void (*ptr)(int, float);

// ุงูุทุฑููุฉ ุงูุณููุฉ
typedef void (*MyFuncType)(int, float); // ุนุฑููุง ููุน ุฌุฏูุฏ
MyFuncType ptr; // ุนูููุง ูุชุบูุฑ ูู ุงูููุน ุฏู
```

ูุง ูุง ููุฏุณุฉ.. ุงูู Function Pointers ูุฏู ููุช ูุนุงู ููุง ูุณู ูููุง "ููุงูููุน"ุ